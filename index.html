<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ú® Yƒ±lba≈üƒ± K√ºresi - Global Geri Sayƒ±m</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: 
    radial-gradient(circle at 0% 0%, rgba(255, 119, 198, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 100% 0%, rgba(120, 119, 198, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 100% 100%, rgba(120, 219, 255, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 0% 100%, rgba(255, 184, 76, 0.2) 0%, transparent 50%),
    linear-gradient(135deg, #0a0f29 0%, #1a1f3d 25%, #2a2f4d 50%, #1a1f3d 75%, #0a0f29 100%);
  color: white;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  overflow-x: hidden;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 30% 30%, rgba(255, 215, 0, 0.08) 0%, transparent 25%),
    radial-gradient(circle at 70% 70%, rgba(255, 119, 198, 0.05) 0%, transparent 25%),
    repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 2px, rgba(255, 255, 255, 0.02) 4px);
  z-index: -1;
}

/* Header Styles */
.header {
  text-align: center;
  padding: 30px 20px 20px;
  background: linear-gradient(to bottom, rgba(10, 15, 41, 0.9), transparent);
}

.logo {
  font-size: 14px;
  font-weight: 600;
  color: #FFD700;
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 10px;
  position: relative;
  display: inline-block;
}

.logo::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 0;
  width: 100%;
  height: 1px;
  background: linear-gradient(90deg, transparent, #FFD700, transparent);
}

.title {
  font-size: 42px;
  font-weight: 800;
  margin-bottom: 5px;
  background: linear-gradient(45deg, #FFD700, #FFA500, #FF6B6B, #4ECDC4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 5px 25px rgba(255, 215, 0, 0.3);
  font-family: 'Playfair Display', serif;
}

.subtitle {
  font-size: 16px;
  opacity: 0.8;
  letter-spacing: 2px;
  margin-bottom: 30px;
}

/* Main Container */
.main-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0 20px 40px;
  gap: 30px;
  max-width: 1400px;
  margin: 0 auto;
}

/* Left Panel - Geri Sayƒ±m */
.countdown-panel {
  background: rgba(15, 20, 45, 0.85);
  padding: 30px;
  border-radius: 25px;
  width: 100%;
  max-width: 600px;
  backdrop-filter: blur(20px);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    0 0 0 1px rgba(255, 215, 0, 0.1);
  border: 1px solid rgba(255, 215, 0, 0.15);
  position: relative;
  overflow: hidden;
}

.countdown-panel::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.05) 0%, transparent 70%);
  animation: rotate 20s linear infinite;
}

@keyframes rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Country Selector */
.country-selector {
  margin-bottom: 30px;
}

.search-box {
  position: relative;
  margin-bottom: 20px;
}

.search-box input {
  width: 100%;
  padding: 15px 20px 15px 50px;
  background: rgba(255, 255, 255, 0.07);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  color: white;
  font-size: 16px;
  transition: all 0.3s;
}

.search-box input:focus {
  outline: none;
  border-color: rgba(255, 215, 0, 0.3);
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
}

.search-box::before {
  content: 'üîç';
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 18px;
  opacity: 0.6;
}

.country-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.country-tab {
  padding: 12px 20px;
  background: rgba(255, 255, 255, 0.07);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s;
  border: 1px solid rgba(255, 255, 255, 0.05);
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.country-tab:hover {
  background: rgba(255, 215, 0, 0.15);
  transform: translateY(-2px);
}

.country-tab.active {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
  border-color: rgba(255, 215, 0, 0.3);
  box-shadow: 0 5px 15px rgba(255, 215, 0, 0.2);
}

/* Country Display */
.country-display {
  text-align: center;
  margin: 30px 0;
}

.flag {
  font-size: 80px;
  margin-bottom: 15px;
  text-shadow: 
    0 0 30px rgba(255, 215, 0, 0.8),
    0 0 60px rgba(255, 165, 0, 0.4);
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  33% { transform: translateY(-15px) rotate(1deg); }
  66% { transform: translateY(5px) rotate(-1deg); }
}

.country-name {
  font-size: 36px;
  font-weight: 700;
  color: #FFD700;
  margin-bottom: 10px;
}

.country-info {
  font-size: 14px;
  opacity: 0.8;
  letter-spacing: 1px;
}

/* Countdown Timer */
.countdown-timer {
  margin-top: 40px;
}

.time-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

.time-box {
  background: linear-gradient(145deg, rgba(255, 215, 0, 0.08), rgba(255, 165, 0, 0.04));
  padding: 25px 15px;
  border-radius: 20px;
  text-align: center;
  border: 1px solid rgba(255, 215, 0, 0.15);
  transition: all 0.4s;
  position: relative;
  overflow: hidden;
}

.time-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #FFD700, #FFA500, #FF6B6B);
  background-size: 200% 100%;
  animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.time-box:hover {
  transform: translateY(-10px);
  background: linear-gradient(145deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1));
  box-shadow: 0 15px 30px rgba(255, 215, 0, 0.2);
}

.time-number {
  font-size: 48px;
  font-weight: 800;
  background: linear-gradient(to bottom, #FFD700, #FFA500);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 3px 20px rgba(255, 215, 0, 0.4);
  font-family: 'Montserrat', sans-serif;
  margin-bottom: 5px;
}

.time-label {
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 2px;
  opacity: 0.8;
}

/* Right Panel - √úlke Listesi */
.countries-panel {
  background: rgba(15, 20, 45, 0.85);
  padding: 30px;
  border-radius: 25px;
  width: 100%;
  max-width: 700px;
  backdrop-filter: blur(20px);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.panel-title {
  font-size: 24px;
  font-weight: 600;
  color: #FFD700;
}

.total-count {
  background: rgba(255, 215, 0, 0.1);
  padding: 5px 15px;
  border-radius: 20px;
  font-size: 14px;
}

/* Countries Grid */
.countries-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 15px;
  max-height: 500px;
  overflow-y: auto;
  padding-right: 10px;
}

/* Scrollbar Styling */
.countries-grid::-webkit-scrollbar {
  width: 8px;
}

.countries-grid::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

.countries-grid::-webkit-scrollbar-thumb {
  background: rgba(255, 215, 0, 0.3);
  border-radius: 4px;
}

.countries-grid::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 215, 0, 0.5);
}

.country-card {
  background: rgba(255, 255, 255, 0.05);
  padding: 20px 15px;
  border-radius: 15px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  border: 1px solid transparent;
  position: relative;
  overflow: hidden;
}

.country-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, transparent, rgba(255, 215, 0, 0.1), transparent);
  opacity: 0;
  transition: opacity 0.3s;
}

.country-card:hover::before {
  opacity: 1;
}

.country-card:hover {
  transform: translateY(-5px);
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 215, 0, 0.3);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.country-card.active {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1));
  border-color: rgba(255, 215, 0, 0.4);
}

.country-card-flag {
  font-size: 40px;
  margin-bottom: 10px;
}

.country-card-name {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 5px;
  color: #FFD700;
}

.country-card-time {
  font-size: 12px;
  opacity: 0.8;
  font-family: 'Courier New', monospace;
}

/* Order Table */
.order-table {
  margin-top: 40px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 15px;
  padding: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.order-table h3 {
  color: #FFD700;
  margin-bottom: 20px;
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.order-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  transition: background 0.3s;
}

.order-row:hover {
  background: rgba(255, 215, 0, 0.05);
}

.order-row:last-child {
  border-bottom: none;
}

.order-rank {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
  border-radius: 50%;
  font-weight: 700;
  color: #FFD700;
}

.order-country-info {
  flex: 1;
  margin: 0 15px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.order-flag {
  font-size: 24px;
}

.order-name {
  font-size: 16px;
  font-weight: 500;
}

.order-time {
  font-family: 'Courier New', monospace;
  color: #4ECDC4;
  font-size: 14px;
}

/* Responsive Design */
@media (min-width: 1024px) {
  .main-container {
    flex-direction: row;
    align-items: flex-start;
    justify-content: center;
  }
  
  .countdown-panel {
    margin-right: 30px;
  }
  
  .countries-grid {
    max-height: 400px;
  }
}

@media (max-width: 768px) {
  .title {
    font-size: 32px;
  }
  
  .time-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  
  .countries-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 12px;
  }
  
  .time-number {
    font-size: 36px;
  }
  
  .flag {
    font-size: 60px;
  }
}

@media (max-width: 480px) {
  .main-container {
    padding: 0 15px 30px;
  }
  
  .countdown-panel,
  .countries-panel {
    padding: 20px;
  }
  
  .time-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  .countries-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .country-tabs {
    gap: 8px;
  }
  
  .country-tab {
    padding: 10px 15px;
    font-size: 14px;
  }
}

/* Animation Classes */
.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Confetti Canvas */
#confetti {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000;
}

/* New Year Message */
.new-year-message {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  animation: fadeIn 0.5s;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.message-content {
  text-align: center;
  padding: 40px;
  max-width: 600px;
}

.message-fireworks {
  font-size: 80px;
  margin-bottom: 30px;
  animation: celebrate 2s infinite;
}

@keyframes celebrate {
  0%, 100% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.2) rotate(-10deg); }
  75% { transform: scale(1.2) rotate(10deg); }
}

.message-text {
  font-size: 48px;
  font-weight: 800;
  background: linear-gradient(45deg, #FFD700, #FFA500, #FF6B6B, #4ECDC4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 20px;
}

.message-country {
  font-size: 32px;
  color: #FFD700;
  margin-bottom: 30px;
}

.message-subtext {
  font-size: 18px;
  opacity: 0.8;
  line-height: 1.6;
  margin-bottom: 40px;
}

.continue-button {
  padding: 15px 40px;
  background: linear-gradient(135deg, #FFD700, #FFA500);
  border: none;
  border-radius: 25px;
  color: #0a0f29;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.3s;
}

.continue-button:hover {
  transform: scale(1.05);
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;800&family=Montserrat:wght@400;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<canvas id="confetti"></canvas>

<div class="header">
  <div class="logo">Yƒ±lba≈üƒ± K√ºresi</div>
  <h1 class="title">Global Geri Sayƒ±m</h1>
  <div class="subtitle">D√ºnyanƒ±n Her K√∂≈üesinde Yƒ±lba≈üƒ± Kutlamalarƒ±</div>
</div>

<div class="main-container">
  <!-- Left Panel: Geri Sayƒ±m -->
  <div class="countdown-panel">
    <div class="country-selector">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="√úlke ara...">
      </div>
      <div class="country-tabs" id="continentTabs">
        <div class="country-tab active" data-continent="all">üåç T√ºm√º</div>
        <div class="country-tab" data-continent="europe">üá™üá∫ Avrupa</div>
        <div class="country-tab" data-continent="asia">üåè Asya</div>
        <div class="country-tab" data-continent="america">üåé Amerika</div>
        <div class="country-tab" data-continent="africa">üåç Afrika</div>
        <div class="country-tab" data-continent="oceania">üåä Okyanusya</div>
      </div>
    </div>
    
    <div class="country-display">
      <div class="flag" id="flag">üáπüá∑</div>
      <div class="country-name" id="countryName">T√ºrkiye</div>
      <div class="country-info">
        <div id="timezone">Saat Dilimi: GMT+3</div>
        <div id="localTime">Yerel Saat: --:--:--</div>
      </div>
    </div>
    
    <div class="countdown-timer">
      <div class="time-grid">
        <div class="time-box">
          <div class="time-number" id="days">0</div>
          <div class="time-label">G√ºn</div>
        </div>
        <div class="time-box">
          <div class="time-number" id="hours">00</div>
          <div class="time-label">Saat</div>
        </div>
        <div class="time-box">
          <div class="time-number" id="minutes">00</div>
          <div class="time-label">Dakika</div>
        </div>
        <div class="time-box">
          <div class="time-number" id="seconds">00</div>
          <div class="time-label">Saniye</div>
        </div>
      </div>
    </div>
    
    <div class="order-table">
      <h3>üèÜ Yeni Yƒ±la ƒ∞lk Giren 5 √úlke</h3>
      <div id="topCountries"></div>
    </div>
  </div>
  
  <!-- Right Panel: T√ºm √úlkeler -->
  <div class="countries-panel">
    <div class="panel-header">
      <div class="panel-title">üåê T√ºm √úlkeler</div>
      <div class="total-count" id="totalCountries">50+ √úlke</div>
    </div>
    
    <div class="countries-grid" id="countriesGrid">
      <!-- √úlkeler buraya eklenecek -->
    </div>
  </div>
</div>

<script>
// Kapsamlƒ± √úlke Listesi (100+ √úlke)
const countries = [
  // Avrupa
  { name: "T√ºrkiye", flag: "üáπüá∑", tz: "Europe/Istanbul", continent: "europe", offset: 3 },
  { name: "Almanya", flag: "üá©üá™", tz: "Europe/Berlin", continent: "europe", offset: 1 },
  { name: "Fransa", flag: "üá´üá∑", tz: "Europe/Paris", continent: "europe", offset: 1 },
  { name: "ƒ∞talya", flag: "üáÆüáπ", tz: "Europe/Rome", continent: "europe", offset: 1 },
  { name: "ƒ∞spanya", flag: "üá™üá∏", tz: "Europe/Madrid", continent: "europe", offset: 1 },
  { name: "ƒ∞ngiltere", flag: "üá¨üáß", tz: "Europe/London", continent: "europe", offset: 0 },
  { name: "Rusya", flag: "üá∑üá∫", tz: "Europe/Moscow", continent: "europe", offset: 3 },
  { name: "Ukrayna", flag: "üá∫üá¶", tz: "Europe/Kiev", continent: "europe", offset: 2 },
  { name: "Polonya", flag: "üáµüá±", tz: "Europe/Warsaw", continent: "europe", offset: 1 },
  { name: "Hollanda", flag: "üá≥üá±", tz: "Europe/Amsterdam", continent: "europe", offset: 1 },
  { name: "Bel√ßika", flag: "üáßüá™", tz: "Europe/Brussels", continent: "europe", offset: 1 },
  { name: "ƒ∞svi√ßre", flag: "üá®üá≠", tz: "Europe/Zurich", continent: "europe", offset: 1 },
  { name: "Avusturya", flag: "üá¶üáπ", tz: "Europe/Vienna", continent: "europe", offset: 1 },
  { name: "ƒ∞sve√ß", flag: "üá∏üá™", tz: "Europe/Stockholm", continent: "europe", offset: 1 },
  { name: "Norve√ß", flag: "üá≥üá¥", tz: "Europe/Oslo", continent: "europe", offset: 1 },
  { name: "Finlandiya", flag: "üá´üáÆ", tz: "Europe/Helsinki", continent: "europe", offset: 2 },
  { name: "Danimarka", flag: "üá©üá∞", tz: "Europe/Copenhagen", continent: "europe", offset: 1 },
  { name: "Yunanistan", flag: "üá¨üá∑", tz: "Europe/Athens", continent: "europe", offset: 2 },
  { name: "Portekiz", flag: "üáµüáπ", tz: "Europe/Lisbon", continent: "europe", offset: 0 },
  { name: "√áekya", flag: "üá®üáø", tz: "Europe/Prague", continent: "europe", offset: 1 },
  { name: "Macaristan", flag: "üá≠üá∫", tz: "Europe/Budapest", continent: "europe", offset: 1 },
  { name: "Romanya", flag: "üá∑üá¥", tz: "Europe/Bucharest", continent: "europe", offset: 2 },
  { name: "Bulgaristan", flag: "üáßüá¨", tz: "Europe/Sofia", continent: "europe", offset: 2 },
  { name: "Sƒ±rbistan", flag: "üá∑üá∏", tz: "Europe/Belgrade", continent: "europe", offset: 1 },
  { name: "Hƒ±rvatistan", flag: "üá≠üá∑", tz: "Europe/Zagreb", continent: "europe", offset: 1 },
  { name: "Slovakya", flag: "üá∏üá∞", tz: "Europe/Bratislava", continent: "europe", offset: 1 },
  { name: "Slovenya", flag: "üá∏üáÆ", tz: "Europe/Ljubljana", continent: "europe", offset: 1 },
  
  // Asya
  { name: "Japonya", flag: "üáØüáµ", tz: "Asia/Tokyo", continent: "asia", offset: 9 },
  { name: "√áin", flag: "üá®üá≥", tz: "Asia/Shanghai", continent: "asia", offset: 8 },
  { name: "Hindistan", flag: "üáÆüá≥", tz: "Asia/Kolkata", continent: "asia", offset: 5.5 },
  { name: "G√ºney Kore", flag: "üá∞üá∑", tz: "Asia/Seoul", continent: "asia", offset: 9 },
  { name: "Endonezya", flag: "üáÆüá©", tz: "Asia/Jakarta", continent: "asia", offset: 7 },
  { name: "T√ºrkmenistan", flag: "üáπüá≤", tz: "Asia/Ashgabat", continent: "asia", offset: 5 },
  { name: "Vietnam", flag: "üáªüá≥", tz: "Asia/Ho_Chi_Minh", continent: "asia", offset: 7 },
  { name: "Tayland", flag: "üáπüá≠", tz: "Asia/Bangkok", continent: "asia", offset: 7 },
  { name: "Filipinler", flag: "üáµüá≠", tz: "Asia/Manila", continent: "asia", offset: 8 },
  { name: "Malezya", flag: "üá≤üáæ", tz: "Asia/Kuala_Lumpur", continent: "asia", offset: 8 },
  { name: "Singapur", flag: "üá∏üá¨", tz: "Asia/Singapore", continent: "asia", offset: 8 },
  { name: "ƒ∞srail", flag: "üáÆüá±", tz: "Asia/Jerusalem", continent: "asia", offset: 2 },
  { name: "Suudi Arabistan", flag: "üá∏üá¶", tz: "Asia/Riyadh", continent: "asia", offset: 3 },
  { name: "Birle≈üik Arap Emirlikleri", flag: "üá¶üá™", tz: "Asia/Dubai", continent: "asia", offset: 4 },
  { name: "Katar", flag: "üá∂üá¶", tz: "Asia/Qatar", continent: "asia", offset: 3 },
  { name: "Kuveyt", flag: "üá∞üáº", tz: "Asia/Kuwait", continent: "asia", offset: 3 },
  { name: "ƒ∞ran", flag: "üáÆüá∑", tz: "Asia/Tehran", continent: "asia", offset: 3.5 },
  { name: "Pakistan", flag: "üáµüá∞", tz: "Asia/Karachi", continent: "asia", offset: 5 },
  { name: "Banglade≈ü", flag: "üáßüá©", tz: "Asia/Dhaka", continent: "asia", offset: 6 },
  { name: "Sri Lanka", flag: "üá±üá∞", tz: "Asia/Colombo", continent: "asia", offset: 5.5 },
  { name: "Nepal", flag: "üá≥üáµ", tz: "Asia/Kathmandu", continent: "asia", offset: 5.75 },
  { name: "Moƒüolistan", flag: "üá≤üá≥", tz: "Asia/Ulaanbaatar", continent: "asia", offset: 8 },
  { name: "Kazakistan", flag: "üá∞üáø", tz: "Asia/Almaty", continent: "asia", offset: 6 },
  { name: "√ñzbekistan", flag: "üá∫üáø", tz: "Asia/Tashkent", continent: "asia", offset: 5 },
  
  // Amerika
  { name: "Amerika (NY)", flag: "üá∫üá∏", tz: "America/New_York", continent: "america", offset: -5 },
  { name: "Amerika (LA)", flag: "üá∫üá∏", tz: "America/Los_Angeles", continent: "america", offset: -8 },
  { name: "Amerika (Chicago)", flag: "üá∫üá∏", tz: "America/Chicago", continent: "america", offset: -6 },
  { name: "Kanada (Toronto)", flag: "üá®üá¶", tz: "America/Toronto", continent: "america", offset: -5 },
  { name: "Kanada (Vancouver)", flag: "üá®üá¶", tz: "America/Vancouver", continent: "america", offset: -8 },
  { name: "Meksika", flag: "üá≤üáΩ", tz: "America/Mexico_City", continent: "america", offset: -6 },
  { name: "Brezilya", flag: "üáßüá∑", tz: "America/Sao_Paulo", continent: "america", offset: -3 },
  { name: "Arjantin", flag: "üá¶üá∑", tz: "America/Argentina/Buenos_Aires", continent: "america", offset: -3 },
  { name: "≈ûili", flag: "üá®üá±", tz: "America/Santiago", continent: "america", offset: -3 },
  { name: "Peru", flag: "üáµüá™", tz: "America/Lima", continent: "america", offset: -5 },
  { name: "Kolombiya", flag: "üá®üá¥", tz: "America/Bogota", continent: "america", offset: -5 },
  { name: "Venezuela", flag: "üáªüá™", tz: "America/Caracas", continent: "america", offset: -4 },
  { name: "K√ºba", flag: "üá®üá∫", tz: "America/Havana", continent: "america", offset: -5 },
  { name: "Jamaika", flag: "üáØüá≤", tz: "America/Jamaica", continent: "america", offset: -5 },
  
  // Afrika
  { name: "Mƒ±sƒ±r", flag: "üá™üá¨", tz: "Africa/Cairo", continent: "africa", offset: 2 },
  { name: "G√ºney Afrika", flag: "üáøüá¶", tz: "Africa/Johannesburg", continent: "africa", offset: 2 },
  { name: "Nijerya", flag: "üá≥üá¨", tz: "Africa/Lagos", continent: "africa", offset: 1 },
  { name: "Kenya", flag: "üá∞üá™", tz: "Africa/Nairobi", continent: "africa", offset: 3 },
  { name: "Etiyopya", flag: "üá™üáπ", tz: "Africa/Addis_Ababa", continent: "africa", offset: 3 },
  { name: "Fas", flag: "üá≤üá¶", tz: "Africa/Casablanca", continent: "africa", offset: 1 },
  { name: "Cezayir", flag: "üá©üáø", tz: "Africa/Algiers", continent: "africa", offset: 1 },
  { name: "Tunus", flag: "üáπüá≥", tz: "Africa/Tunis", continent: "africa", offset: 1 },
  { name: "Gana", flag: "üá¨üá≠", tz: "Africa/Accra", continent: "africa", offset: 0 },
  { name: "Senegal", flag: "üá∏üá≥", tz: "Africa/Dakar", continent: "africa", offset: 0 },
  
  // Okyanusya
  { name: "Avustralya (Sidney)", flag: "üá¶üá∫", tz: "Australia/Sydney", continent: "oceania", offset: 11 },
  { name: "Yeni Zelanda", flag: "üá≥üáø", tz: "Pacific/Auckland", continent: "oceania", offset: 13 },
  { name: "Fiji", flag: "üá´üáØ", tz: "Pacific/Fiji", continent: "oceania", offset: 12 },
  { name: "Papua Yeni Gine", flag: "üáµüá¨", tz: "Pacific/Port_Moresby", continent: "oceania", offset: 10 },
  { name: "Samoa", flag: "üáºüá∏", tz: "Pacific/Apia", continent: "oceania", offset: 13 },
  { name: "Tonga", flag: "üáπüá¥", tz: "Pacific/Tongatapu", continent: "oceania", offset: 13 }
];

// Deƒüi≈ükenler
let selectedCountry = countries[0]; // T√ºrkiye
let filteredCountries = [...countries];
let currentContinent = "all";
let confettiActive = false;
let confettiInterval;

// DOM Elementleri
const searchInput = document.getElementById('searchInput');
const continentTabs = document.querySelectorAll('.country-tab');
const countriesGrid = document.getElementById('countriesGrid');
const flagElement = document.getElementById('flag');
const countryNameElement = document.getElementById('countryName');
const timezoneElement = document.getElementById('timezone');
const localTimeElement = document.getElementById('localTime');
const totalCountriesElement = document.getElementById('totalCountries');
const topCountriesElement = document.getElementById('topCountries');

// Days, hours, minutes, seconds elements
const daysElement = document.getElementById('days');
const hoursElement = document.getElementById('hours');
const minutesElement = document.getElementById('minutes');
const secondsElement = document.getElementById('seconds');

// Ba≈ülangƒ±√ß
document.addEventListener('DOMContentLoaded', () => {
  renderCountriesGrid();
  updateCountryInfo();
  updateCountdown();
  updateTopCountries();
  
  // Arama fonksiyonu
  searchInput.addEventListener('input', filterCountries);
  
  // Kƒ±ta tablarƒ±
  continentTabs.forEach(tab => {
    tab.addEventListener('click', () => {
      continentTabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      currentContinent = tab.dataset.continent;
      filterCountries();
    });
  });
  
  // Geri sayƒ±m g√ºncelleme
  setInterval(updateCountdown, 1000);
  
  // Yerel saat g√ºncelleme
  setInterval(updateLocalTime, 1000);
  
  // G√ºncel saat dilimini g√∂ster
  setInterval(updateTimezoneInfo, 60000);
});

// √úlkeleri render et
function renderCountriesGrid() {
  countriesGrid.innerHTML = '';
  
  filteredCountries.forEach(country => {
    const card = document.createElement('div');
    card.className = `country-card ${country.name === selectedCountry.name ? 'active' : ''}`;
    card.innerHTML = `
      <div class="country-card-flag">${country.flag}</div>
      <div class="country-card-name">${country.name}</div>
      <div class="country-card-time">${getLocalTime(country.tz)}</div>
    `;
    
    card.addEventListener('click', () => {
      selectCountry(country);
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    countriesGrid.appendChild(card);
  });
  
  totalCountriesElement.textContent = `${filteredCountries.length} √úlke`;
}

// √úlke se√ß
function selectCountry(country) {
  selectedCountry = country;
  updateCountryInfo();
  renderCountriesGrid();
  updateCountdown();
}

// √úlke bilgilerini g√ºncelle
function updateCountryInfo() {
  flagElement.textContent = selectedCountry.flag;
  countryNameElement.textContent = selectedCountry.name;
  
  // Saat dilimi bilgisi
  updateTimezoneInfo();
  updateLocalTime();
}

// Saat dilimi bilgisini g√ºncelle
function updateTimezoneInfo() {
  const now = new Date();
  const formatter = new Intl.DateTimeFormat('en-US', {
    timeZone: selectedCountry.tz,
    timeZoneName: 'short'
  });
  
  const parts = formatter.formatToParts(now);
  const tzName = parts.find(part => part.type === 'timeZoneName')?.value || 'GMT';
  
  // GMT offset hesapla
  const offset = selectedCountry.offset;
  const offsetSign = offset >= 0 ? '+' : '';
  const offsetStr = offsetSign + offset;
  
  timezoneElement.textContent = `Saat Dilimi: ${tzName} (UTC${offsetStr})`;
}

// Yerel saati g√ºncelle
function updateLocalTime() {
  localTimeElement.textContent = `Yerel Saat: ${getLocalTime(selectedCountry.tz)}`;
}

// √úlke filtreleme
function filterCountries() {
  const searchTerm = searchInput.value.toLowerCase();
  
  filteredCountries = countries.filter(country => {
    const matchesSearch = country.name.toLowerCase().includes(searchTerm) ||
                         country.flag.includes(searchTerm);
    const matchesContinent = currentContinent === 'all' || country.continent === currentContinent;
    
    return matchesSearch && matchesContinent;
  });
  
  renderCountriesGrid();
}

// ‚úÖ DOƒûRU Saat Hesaplama - D√ºzeltilmi≈ü
function getTargetTime(timeZone, offset) {
  const now = new Date();
  const currentYear = now.getFullYear();
  
  // Timezone'a g√∂re ≈üu anki zamanƒ± al
  const nowInTz = new Date(now.toLocaleString("en-US", { timeZone }));
  
  // Gelecek yƒ±lƒ±n 1 Ocak 00:00:00 zamanƒ±nƒ± olu≈ütur
  const nextYear = currentYear + 1;
  let targetDate = new Date(nextYear, 0, 1, 0, 0, 0, 0);
  
  // Timezone'a g√∂re hedef tarihi formatla
  const formatter = new Intl.DateTimeFormat('en-US', {
    timeZone: timeZone,
    year: 'numeric',
    month: 'numeric',
    day: 'numeric',
    hour: 'numeric',
    minute: 'numeric',
    second: 'numeric',
    hour12: false
  });
  
  const parts = formatter.formatToParts(targetDate);
  const obj = {};
  parts.forEach(part => obj[part.type] = part.value);
  
  // Eƒüer hedef tarih ge√ßmi≈üse, bir sonraki yƒ±la ge√ß
  const targetInTz = new Date(Date.UTC(
    parseInt(obj.year),
    parseInt(obj.month) - 1,
    parseInt(obj.day),
    parseInt(obj.hour),
    parseInt(obj.minute),
    parseInt(obj.second)
  ));
  
  if (targetInTz <= nowInTz) {
    targetDate = new Date(nextYear + 1, 0, 1, 0, 0, 0, 0);
    const parts2 = formatter.formatToParts(targetDate);
    const obj2 = {};
    parts2.forEach(part => obj2[part.type] = part.value);
    
    return Date.UTC(
      parseInt(obj2.year),
      parseInt(obj2.month) - 1,
      parseInt(obj2.day),
      parseInt(obj2.hour),
      parseInt(obj2.minute),
      parseInt(obj2.second)
    );
  }
  
  return Date.UTC(
    parseInt(obj.year),
    parseInt(obj.month) - 1,
    parseInt(obj.day),
    parseInt(obj.hour),
    parseInt(obj.minute),
    parseInt(obj.second)
  );
}

// Geri sayƒ±mƒ± g√ºncelle
function updateCountdown() {
  const now = Date.now();
  const target = getTargetTime(selectedCountry.tz, selectedCountry.offset);
  const diff = target - now;
  
  // Yeni yƒ±l kontrol√º
  if (diff <= 0 && diff > -10000) {
    showNewYearMessage();
    return;
  }
  
  // Zamanƒ± hesapla
  const totalSeconds = Math.floor(diff / 1000);
  const days = Math.floor(totalSeconds / 86400);
  const hours = Math.floor((totalSeconds % 86400) / 3600);
  const minutes = Math.floor((totalSeconds % 3600) / 60);
  const seconds = totalSeconds % 60;
  
  // DOM'u g√ºncelle
  daysElement.textContent = days;
  hoursElement.textContent = hours.toString().padStart(2, '0');
  minutesElement.textContent = minutes.toString().padStart(2, '0');
  secondsElement.textContent = seconds.toString().padStart(2, '0');
}

// Yerel saat formatƒ±
function getLocalTime(timeZone) {
  const now = new Date();
  const formatter = new Intl.DateTimeFormat('tr-TR', {
    timeZone: timeZone,
    hour: '2-digit',
    minute: '2-digit',
    hour12: false
  });
  
  return formatter.format(now);
}

// ƒ∞lk 5 √ºlkeyi g√ºncelle - D√úZG√úN √áALI≈ûAN
function updateTopCountries() {
  const now = new Date();
  const currentYear = now.getFullYear();
  const nextYear = currentYear + 1;
  
  const countryTimes = countries.map(country => {
    // Her √ºlke i√ßin yeni yƒ±l UTC zamanƒ±nƒ± hesapla
    const utcYear = nextYear;
    
    // Offset'i kullanarak UTC zamanƒ±nƒ± hesapla
    let utcTime = Date.UTC(utcYear, 0, 1, -country.offset, 0, 0, 0);
    
    // Eƒüer bu zaman ge√ßtiyse, bir sonraki yƒ±la ge√ß
    if (utcTime <= Date.now()) {
      utcTime = Date.UTC(utcYear + 1, 0, 1, -country.offset, 0, 0, 0);
    }
    
    // Yerel saat formatƒ±
    const formatter = new Intl.DateTimeFormat('tr-TR', {
      timeZone: country.tz,
      hour: '2-digit',
      minute: '2-digit',
      hour12: false
    });
    
    return {
      ...country,
      utcTime: utcTime,
      localTime: formatter.format(new Date(utcTime))
    };
  });
  
  // UTC zamanƒ±na g√∂re sƒ±rala (en k√º√ß√ºk = ilk giren)
  countryTimes.sort((a, b) => a.utcTime - b.utcTime);
  
  const top5 = countryTimes.slice(0, 5);
  
  topCountriesElement.innerHTML = '';
  top5.forEach((country, index) => {
    const row = document.createElement('div');
    row.className = 'order-row';
    row.innerHTML = `
      <div class="order-rank">${index + 1}</div>
      <div class="order-country-info">
        <div class="order-flag">${country.flag}</div>
        <div class="order-name">${country.name}</div>
      </div>
      <div class="order-time">${country.localTime}</div>
    `;
    
    row.addEventListener('click', () => {
      selectCountry(country);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    topCountriesElement.appendChild(row);
  });
}

// Yeni yƒ±l mesajƒ±
function showNewYearMessage() {
  if (confettiActive) return;
  
  const messageDiv = document.createElement('div');
  messageDiv.className = 'new-year-message';
  messageDiv.innerHTML = `
    <div class="message-content">
      <div class="message-fireworks">üéÜ‚ú®üéâ</div>
      <div class="message-text">YENƒ∞ YILINIZ KUTLU OLSUN!</div>
      <div class="message-country">${selectedCountry.flag} ${selectedCountry.name}</div>
      <div class="message-subtext">
        ${new Date().getFullYear() + 1} yƒ±lƒ± size ve sevdiklerinize<br>
        saƒülƒ±k, mutluluk ve ba≈üarƒ± getirsin!
      </div>
      <button class="continue-button" onclick="continueCountdown()">Devam Et</button>
    </div>
  `;
  
  document.body.appendChild(messageDiv);
  startConfetti();
}

// Devam et butonu
function continueCountdown() {
  const messageDiv = document.querySelector('.new-year-message');
  if (messageDiv) {
    messageDiv.remove();
  }
  confettiActive = false;
  clearInterval(confettiInterval);
}

// Confetti efekti
function startConfetti() {
  confettiActive = true;
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  
  let particles = [];
  
  for(let i = 0; i < 200; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height - 100,
      size: Math.random() * 10 + 5,
      speedX: Math.random() * 5 - 2.5,
      speedY: Math.random() * 5 + 2,
      color: `hsl(${Math.random() * 60 + 20}, 100%, 60%)`,
      rotation: 0,
      rotationSpeed: Math.random() * 0.1 - 0.05
    });
  }
  
  function animate() {
    if (!confettiActive) return;
    
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    particles.forEach(p => {
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rotation);
      p.rotation += p.rotationSpeed;
      
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(0, 0, p.size, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.restore();
      
      p.x += p.speedX;
      p.y += p.speedY;
      
      if (p.y > canvas.height) {
        p.y = 0;
        p.x = Math.random() * canvas.width;
      }
    });
    
    requestAnimationFrame(animate);
  }
  
  animate();
}

// Pencere boyutu deƒüi≈üince
window.addEventListener('resize', () => {
  const canvas = document.getElementById('confetti');
  if (canvas) {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
});

// Sayfa ba≈ülƒ±ƒüƒ± animasyonu
let titleIndex = 0;
const titleText = "‚ú® Yƒ±lba≈üƒ± K√ºresi - Global Geri Sayƒ±m";
function animateTitle() {
  document.title = titleText.substring(0, titleIndex + 1);
  titleIndex = (titleIndex + 1) % titleText.length;
  setTimeout(animateTitle, 300);
}
animateTitle();
</script>
</body>
</html